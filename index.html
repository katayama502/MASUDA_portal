<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>益田市習い事ポータル | MASUDA Learning Hub</title>
  <meta name="description" content="益田市の学校別・大人向け習い事情報をまとめたポータルサイト。文化・スポーツ・アートまで幅広くご紹介。">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-content">
      <div class="logo">
        <span class="logo-mark">MASUDA</span>
        <span class="logo-text">Learning Hub</span>
      </div>
      <nav class="main-nav" aria-label="主要ナビゲーション">
        <ul>
          <li><a href="#schools">学校別</a></li>
          <li><a href="#adults">大人向け</a></li>
          <li><a href="#features">特集</a></li>
        </ul>
      </nav>
      <a class="cta-button" href="#schools">教室を探す</a>
    </div>
  </header>

  <main>
    <section class="hero" role="banner">
      <div class="container hero-content">
        <div class="hero-copy">
          <p class="hero-tag">益田でつながる、確かな学校情報</p>
          <h1>益田市内の小・中・高校を横断的に調べられるデータベース</h1>
          <p>
            益田市教育委員会や各校が公表している公式情報をもとに、市内の学校を一括で検索できます。<br>
            学校種やエリア、特徴タグを組み合わせて気になる学校を探してください。
          </p>
          <div class="hero-actions">
            <a class="primary" href="#schools">学校を検索する</a>
            <a class="secondary" href="#features">特集を見る</a>
          </div>
        </div>
      </div>
      <div class="hero-gradient" aria-hidden="true"></div>
    </section>

    <section id="schools" class="section schools">
      <div class="container">
        <div class="section-heading">
          <h2>益田市内の学校一覧</h2>
          <p>島根県益田市に所在する小学校・中学校・高等学校の公式情報を収集し、フィルターで横断検索できるようにしました。</p>
        </div>
        <div class="school-search" aria-label="益田市内の学校検索">
          <div class="filters" role="region" aria-label="検索条件">
            <div class="search-box">
              <label for="school-search-input">学校名・キーワード検索</label>
              <input id="school-search-input" type="search" placeholder="例: 益田小学校 / 中山間地域 / 私立" autocomplete="off">
              <p class="help-text">学校名・所在地・特徴・タグで横断検索できます。</p>
            </div>
            <fieldset class="type-filter">
              <legend>学校種で絞り込む</legend>
              <label>
                <input type="checkbox" name="school-type" value="elementary" checked>
                <span>小学校</span>
              </label>
              <label>
                <input type="checkbox" name="school-type" value="middle" checked>
                <span>中学校</span>
              </label>
              <label>
                <input type="checkbox" name="school-type" value="high" checked>
                <span>高校</span>
              </label>
            </fieldset>
            <div class="tag-filter" role="region" aria-label="タグで絞り込む">
              <div class="tag-filter-heading">
                <span>タグ</span>
                <button type="button" class="clear-tags" id="clear-tag-filter" hidden>選択中のタグをクリア</button>
              </div>
              <div class="tag-list" id="tag-list" role="listbox" aria-multiselectable="true"></div>
              <p class="help-text">タグをクリックすると複数選択できます（OR検索）。</p>
            </div>
          </div>
          <div class="results" role="region" aria-live="polite" aria-busy="false">
            <div class="result-summary" id="result-summary"></div>
            <div class="school-list" id="school-list" role="list"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="features" class="section features">
      <div class="container">
        <div class="section-heading">
          <h2>今月の特集</h2>
          <p>人気講座や話題の先生にフォーカスしたインタビュー記事。</p>
        </div>
        <div class="feature-grid">
          <article class="feature">
            <div class="feature-label">Teacher's Voice</div>
            <h3>益田市立高校 美術部 顧問 山本先生</h3>
            <p>「地域の文化財を活用したアート制作で、生徒の発想力がぐっと伸びました。」</p>
            <a class="more" href="#features">インタビューを読む</a>
          </article>
          <article class="feature">
            <div class="feature-label">Hot Lesson</div>
            <h3>島根県立大学 連携講座 デジタルクリエイティブ入門</h3>
            <p>大学生と高校生が一緒に学ぶ人気講座。3Dモデリングや動画制作を体験できる全6回の短期集中プログラム。</p>
            <a class="more" href="#features">日程を確認</a>
          </article>
          <article class="feature">
            <div class="feature-label">Report</div>
            <h3>石見神楽ジュニアチーム 全国大会レポート</h3>
            <p>全国大会で披露した演目「大蛇」の舞台裏と、メンバーの熱い想いを徹底レポート。</p>
            <a class="more" href="#features">レポートを読む</a>
          </article>
        </div>
      </div>
    </section>

    <section id="adults" class="section adults">
      <div class="container">
        <div class="section-heading">
          <h2>大人向け習い事</h2>
          <p>仕事帰りや週末に通える講座から、資格取得に役立つプログラムまで幅広く掲載。</p>
        </div>
        <div class="card-grid">
          <article class="card">
            <header>
              <p class="category">キャリア</p>
              <h3>益田市 DXリスキリング講座</h3>
            </header>
            <p>社会人のためのデジタル基礎講座。データ分析とノーコードツールを活用した業務改善を学びます。</p>
            <ul class="meta">
              <li><strong>期間:</strong> 5月開講 / 全8回</li>
              <li><strong>会場:</strong> 益田産業支援センター</li>
            </ul>
            <span class="more" aria-label="益田市 DXリスキリング講座の詳細は各教室へお問い合わせください">詳細は各教室へ</span>
          </article>
          <article class="card">
            <header>
              <p class="category">ウェルネス</p>
              <h3>石見ヨガスタジオ 夜クラス</h3>
            </header>
            <p>呼吸と瞑想を取り入れたリラックスプログラム。初心者でも安心して参加できる少人数制。</p>
            <ul class="meta">
              <li><strong>期間:</strong> 隔週水曜日 / 19:00-20:30</li>
              <li><strong>会場:</strong> 益田駅前スタジオ</li>
            </ul>
            <span class="more" aria-label="石見ヨガスタジオ 夜クラスの詳細は各教室へお問い合わせください">詳細は各教室へ</span>
          </article>
          <article class="card">
            <header>
              <p class="category">文化</p>
              <h3>石見神楽保存会 社会人講座</h3>
            </header>
            <p>伝統芸能の舞・囃子をゼロから学べる講座。衣装着付けや歴史講座などトータルでサポート。</p>
            <ul class="meta">
              <li><strong>期間:</strong> 通年募集</li>
              <li><strong>会場:</strong> 益田市立文化交流館</li>
            </ul>
            <span class="more" aria-label="石見神楽保存会 社会人講座の詳細は各教室へお問い合わせください">詳細は各教室へ</span>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <div class="logo">
          <span class="logo-mark">MASUDA</span>
          <span class="logo-text">Learning Hub</span>
        </div>
        <p class="footer-copy">地域と学びをつなぐ益田市の情報プラットフォーム。</p>
      </div>
      <div>
        <h4>メニュー</h4>
        <ul>
          <li><a href="#schools">学校別</a></li>
          <li><a href="#adults">大人向け</a></li>
          <li><a href="#features">特集</a></li>
        </ul>
      </div>
      <div>
        <h4>SNS</h4>
        <ul class="sns">
          <li><a href="https://www.instagram.com/" target="_blank" rel="noopener">Instagram</a></li>
          <li><a href="https://www.facebook.com/" target="_blank" rel="noopener">Facebook</a></li>
          <li><a href="https://line.me/" target="_blank" rel="noopener">LINE公式</a></li>
        </ul>
      </div>
    </div>
    <p class="copyright">&copy; 2024 MASUDA Learning Hub</p>
  </footer>
    <script>
    const TYPE_LABELS = {
      elementary: '小学校',
      middle: '中学校',
      high: '高等学校'
    };

    const TYPE_ORDER = {
      elementary: 0,
      middle: 1,
      high: 2
    };

    const SCHOOLS = [
      {
        name: '益田市立益田小学校',
        type: 'elementary',
        district: '益田地区（中心市街地）',
        address: '島根県益田市元町6-30',
        managingBody: '益田市教育委員会',
        notes: '益田市中心部に位置する市立小学校です。',
        tags: ['小学校', '公立', '市立', '中心市街地', '益田地区']
      },
      {
        name: '益田市立吉田小学校',
        type: 'elementary',
        district: '吉田地区',
        address: '島根県益田市乙吉町イ114',
        managingBody: '益田市教育委員会',
        notes: '益田市乙吉町に位置する市立小学校です。',
        tags: ['小学校', '公立', '市立', '吉田地区']
      },
      {
        name: '益田市立中西小学校',
        type: 'elementary',
        district: '中吉田町エリア',
        address: '島根県益田市中吉田町37',
        managingBody: '益田市教育委員会',
        notes: '益田市中吉田町の農村地帯にある市立小学校です。',
        tags: ['小学校', '公立', '市立', '吉田地区', '中山間地域']
      },
      {
        name: '益田市立高津小学校',
        type: 'elementary',
        district: '高津地区（沿岸部）',
        address: '島根県益田市高津町イ2320',
        managingBody: '益田市教育委員会',
        notes: '益田市高津町に所在する沿岸部の市立小学校です。',
        tags: ['小学校', '公立', '市立', '高津地区', '沿岸部']
      },
      {
        name: '益田市立飯田小学校',
        type: 'elementary',
        district: '飯田地区',
        address: '島根県益田市飯田町21-2',
        managingBody: '益田市教育委員会',
        notes: '益田市飯田町の市街地南部に位置する市立小学校です。',
        tags: ['小学校', '公立', '市立', '益田地区']
      },
      {
        name: '益田市立西益田小学校',
        type: 'elementary',
        district: '西益田地区',
        address: '島根県益田市乙吉町イ331-3',
        managingBody: '益田市教育委員会',
        notes: '益田市乙吉町にある市立小学校です。',
        tags: ['小学校', '公立', '市立', '吉田地区']
      },
      {
        name: '益田市立東仙道小学校',
        type: 'elementary',
        district: '東仙道地区',
        address: '島根県益田市東町12-6',
        managingBody: '益田市教育委員会',
        notes: '益田市東町の東仙道地区に位置する市立小学校です。',
        tags: ['小学校', '公立', '市立', '中心市街地']
      },
      {
        name: '益田市立横田小学校',
        type: 'elementary',
        district: '横田地区',
        address: '島根県益田市高津町イ2955',
        managingBody: '益田市教育委員会',
        notes: '益田市高津町横田地区にある市立小学校です。',
        tags: ['小学校', '公立', '市立', '高津地区']
      },
      {
        name: '益田市立二条小学校',
        type: 'elementary',
        district: '二条地区（中山間）',
        address: '島根県益田市二条町イ127',
        managingBody: '益田市教育委員会',
        notes: '益田市二条町の中山間地域にある市立小学校です。',
        tags: ['小学校', '公立', '市立', '二条地区', '中山間地域']
      },
      {
        name: '益田市立七尾小学校',
        type: 'elementary',
        district: '七尾地区（沿岸部）',
        address: '島根県益田市七尾町8',
        managingBody: '益田市教育委員会',
        notes: '益田市七尾町の海沿いにある市立小学校です。',
        tags: ['小学校', '公立', '市立', '七尾地区', '沿岸部']
      },
      {
        name: '益田市立鎌手小学校',
        type: 'elementary',
        district: '鎌手地区（沿岸部）',
        address: '島根県益田市鎌手町ロ77-3',
        managingBody: '益田市教育委員会',
        notes: '益田市鎌手町にある沿岸部の市立小学校です。',
        tags: ['小学校', '公立', '市立', '鎌手地区', '沿岸部']
      },
      {
        name: '益田市立匹見小学校',
        type: 'elementary',
        district: '匹見地区',
        address: '島根県益田市匹見町匹見イ982',
        managingBody: '益田市教育委員会',
        notes: '益田市匹見町に位置する山間部の市立小学校です。',
        tags: ['小学校', '公立', '市立', '匹見地区', '中山間地域']
      },
      {
        name: '益田市立美都小学校',
        type: 'elementary',
        district: '美都地区',
        address: '島根県益田市美都町都茂1186',
        managingBody: '益田市教育委員会',
        notes: '益田市美都町都茂にある旧美都町の市立小学校です。',
        tags: ['小学校', '公立', '市立', '美都地区', '中山間地域']
      },
      {
        name: '益田市立都茂小学校',
        type: 'elementary',
        district: '都茂地区',
        address: '島根県益田市美都町都茂1523',
        managingBody: '益田市教育委員会',
        notes: '益田市美都町都茂地区にある市立小学校です。',
        tags: ['小学校', '公立', '市立', '美都地区', '中山間地域']
      },
      {
        name: '益田市立益田中学校',
        type: 'middle',
        district: '益田地区（中心市街地）',
        address: '島根県益田市染羽町1-5',
        managingBody: '益田市教育委員会',
        notes: '益田市染羽町に所在する市立中学校です。',
        tags: ['中学校', '公立', '市立', '中心市街地', '益田地区']
      },
      {
        name: '益田市立高津中学校',
        type: 'middle',
        district: '高津地区',
        address: '島根県益田市高津町イ2360',
        managingBody: '益田市教育委員会',
        notes: '益田市高津町にある市立中学校です。',
        tags: ['中学校', '公立', '市立', '高津地区']
      },
      {
        name: '益田市立横田中学校',
        type: 'middle',
        district: '横田地区',
        address: '島根県益田市高津町イ2745',
        managingBody: '益田市教育委員会',
        notes: '益田市高津町横田地区にある市立中学校です。',
        tags: ['中学校', '公立', '市立', '高津地区']
      },
      {
        name: '益田市立匹見中学校',
        type: 'middle',
        district: '匹見地区',
        address: '島根県益田市匹見町匹見イ1104',
        managingBody: '益田市教育委員会',
        notes: '益田市匹見町にある市立中学校です。',
        tags: ['中学校', '公立', '市立', '匹見地区', '中山間地域']
      },
      {
        name: '益田市立美都中学校',
        type: 'middle',
        district: '美都地区',
        address: '島根県益田市美都町都茂1186-2',
        managingBody: '益田市教育委員会',
        notes: '益田市美都町都茂に所在する市立中学校です。',
        tags: ['中学校', '公立', '市立', '美都地区', '中山間地域']
      },
      {
        name: '益田東中学校',
        type: 'middle',
        district: '久城町エリア',
        address: '島根県益田市久城町457',
        managingBody: '学校法人益田永島学園',
        notes: '益田東高等学校と同じ敷地にある私立中学校です。',
        tags: ['中学校', '私立', '中高一貫', '久城町']
      },
      {
        name: '島根県立益田高等学校',
        type: 'high',
        district: '益田地区（中心市街地）',
        address: '島根県益田市東町20-33',
        managingBody: '島根県教育委員会',
        notes: '益田市東町に位置する県立高等学校です。',
        tags: ['高等学校', '県立', '普通科', '中心市街地', '益田地区']
      },
      {
        name: '島根県立益田翔陽高等学校',
        type: 'high',
        district: '昭和町エリア',
        address: '島根県益田市昭和町12-1',
        managingBody: '島根県教育委員会',
        notes: '益田市昭和町に所在する県立高等学校です。',
        tags: ['高等学校', '県立', '専門学科', '昭和町']
      },
      {
        name: '益田東高等学校',
        type: 'high',
        district: '久城町エリア',
        address: '島根県益田市久城町457',
        managingBody: '学校法人益田永島学園',
        notes: '益田市久城町にある私立の高等学校です。',
        tags: ['高等学校', '私立', '中高一貫', '久城町']
      },
      {
        name: '明誠高等学校',
        type: 'high',
        district: '三宅町エリア',
        address: '島根県益田市三宅町7-37',
        managingBody: '学校法人明誠高等学校',
        notes: '益田市三宅町にある私立高等学校です。',
        tags: ['高等学校', '私立', '三宅町']
      }
    ];

    const typeKeys = Object.keys(TYPE_ORDER);

    const state = {
      types: new Set(typeKeys),
      tags: new Set(),
      term: ''
    };

    const searchInput = document.getElementById('school-search-input');
    const typeCheckboxes = document.querySelectorAll('input[name="school-type"]');
    const tagList = document.getElementById('tag-list');
    const schoolList = document.getElementById('school-list');
    const resultSummary = document.getElementById('result-summary');
    const clearTagsButton = document.getElementById('clear-tag-filter');
    const resultsRegion = document.querySelector('.results');

    const allTags = Array.from(new Set(SCHOOLS.flatMap((school) => school.tags ?? []))).sort((a, b) =>
      a.localeCompare(b, 'ja')
    );

    const tagButtons = new Map();

    allTags.forEach((tag) => {
      const button = document.createElement('button');
      button.type = 'button';
      button.className = 'tag-chip';
      button.textContent = tag;
      button.setAttribute('role', 'option');
      button.setAttribute('aria-pressed', 'false');
      button.dataset.tag = tag;
      button.addEventListener('click', () => {
        const isSelected = state.tags.has(tag);
        if (isSelected) {
          state.tags.delete(tag);
        } else {
          state.tags.add(tag);
        }
        button.classList.toggle('active', !isSelected);
        button.setAttribute('aria-pressed', (!isSelected).toString());
        clearTagsButton.hidden = state.tags.size === 0;
        render();
      });
      tagButtons.set(tag, button);
      tagList.appendChild(button);
    });

    clearTagsButton.addEventListener('click', () => {
      state.tags.clear();
      tagButtons.forEach((button) => {
        button.classList.remove('active');
        button.setAttribute('aria-pressed', 'false');
      });
      clearTagsButton.hidden = true;
      render();
    });

    searchInput.addEventListener('input', (event) => {
      state.term = event.target.value.trim();
      render();
    });

    typeCheckboxes.forEach((checkbox) => {
      checkbox.addEventListener('change', () => {
        const { value, checked } = checkbox;
        if (checked) {
          state.types.add(value);
        } else {
          state.types.delete(value);
          if (state.types.size === 0) {
            state.types.add(value);
            checkbox.checked = true;
            return;
          }
        }
        render();
      });
    });

    function normalizeText(value) {
      return value.toString().toLowerCase().normalize('NFKC');
    }

    function filterSchools() {
      const normalizedTerm = normalizeText(state.term);
      return SCHOOLS.filter((school) => state.types.has(school.type))
        .filter((school) => {
          if (!normalizedTerm) return true;
          const keywords = [
            school.name,
            school.district,
            school.address,
            school.managingBody,
            school.notes,
            ...(school.keywords ?? []),
            ...(school.tags ?? [])
          ].join(' ');
          return normalizeText(keywords).includes(normalizedTerm);
        })
        .filter((school) => {
          if (state.tags.size === 0) return true;
          const tags = school.tags ?? [];
          return Array.from(state.tags).some((tag) => tags.includes(tag));
        })
        .sort((a, b) => {
          const typeDiff = (TYPE_ORDER[a.type] ?? 99) - (TYPE_ORDER[b.type] ?? 99);
          if (typeDiff !== 0) return typeDiff;
          return a.name.localeCompare(b.name, 'ja');
        });
    }

    function appendDetail(list, term, value) {
      if (!value) return;
      const dt = document.createElement('dt');
      dt.textContent = term;
      const dd = document.createElement('dd');
      dd.textContent = value;
      list.append(dt, dd);
    }

    function createSchoolCard(school) {
      const article = document.createElement('article');
      article.className = 'school-card';
      article.setAttribute('role', 'listitem');
      article.dataset.type = school.type;

      const header = document.createElement('header');
      const typeLabel = document.createElement('span');
      typeLabel.className = 'school-type';
      typeLabel.textContent = TYPE_LABELS[school.type] ?? '学校';
      header.appendChild(typeLabel);

      const name = document.createElement('h3');
      name.textContent = school.name;
      header.appendChild(name);

      if (school.district) {
        const area = document.createElement('p');
        area.className = 'school-area';
        area.textContent = school.district;
        header.appendChild(area);
      }

      article.appendChild(header);

      const detail = document.createElement('dl');
      detail.className = 'school-detail';
      appendDetail(detail, '所在地', school.address);
      appendDetail(detail, '設置者', school.managingBody);
      article.appendChild(detail);

      if (school.notes) {
        const notes = document.createElement('p');
        notes.className = 'school-notes';
        notes.textContent = school.notes;
        article.appendChild(notes);
      }

      if (school.tags && school.tags.length > 0) {
        const tags = document.createElement('ul');
        tags.className = 'school-tags';
        school.tags.forEach((tag) => {
          const item = document.createElement('li');
          item.textContent = tag;
          tags.appendChild(item);
        });
        article.appendChild(tags);
      }

      return article;
    }

    function render() {
      resultsRegion.setAttribute('aria-busy', 'true');
      const results = filterSchools();
      schoolList.replaceChildren();

      if (results.length === 0) {
        const empty = document.createElement('p');
        empty.className = 'empty-state';
        empty.textContent = '該当する学校情報が見つかりませんでした。検索条件を見直してください。';
        schoolList.appendChild(empty);
      } else {
        results.forEach((school) => {
          schoolList.appendChild(createSchoolCard(school));
        });
      }

      const typeCounts = results.reduce((acc, school) => {
        acc[school.type] = (acc[school.type] ?? 0) + 1;
        return acc;
      }, {});

      const breakdown = typeKeys
        .map((type) => {
          const count = typeCounts[type] ?? 0;
          return count > 0 ? `${TYPE_LABELS[type]} ${count}校` : null;
        })
        .filter(Boolean)
        .join(' / ');

      resultSummary.innerHTML = `<strong>${results.length}</strong> 件のスクールを表示中${
        breakdown ? `<br><span class="result-breakdown">${breakdown}</span>` : ''
      }`;

      resultsRegion.setAttribute('aria-busy', 'false');
    }

    render();
  </script>
</body>
</html>
